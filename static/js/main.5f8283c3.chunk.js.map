{"version":3,"sources":["components/Header.js","images/paper.svg","components/Card.js","components/Filter.js","utils/consts.js","components/Filters.js","components/Popup.js","images/plus.svg","components/Main.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","Card","props","id","isUserAlbum","onClick","onCardDelete","num","type","aria-label","event","setCurrentImage","target","setCurrentPhoto","offsetParent","showCardPopup","src","source","alt","currentAlbum","paper","card","currentPhoto","prototype","comment","setCommentText","showCommentPopup","classList","toggle","Filter","React","useState","value","setValue","useEffect","reset","name","onChange","setReset","selector","changeFilter","data-sizing","size","min","max","albums","day","evening","night","morning","basicAlbums","Object","keys","forEach","key","push","i","number","total","length","FILTERS_DATA","urlRegex","Filters","filter","setFilter","nextElementSibling","textContent","filters","JSON","parse","stringify","sizing","setImgFilter","getFilter","dataset","map","data","index","outputs","document","querySelectorAll","filtersString","entries","item","join","flat","concat","canvas","createElement","img","Image","setAttribute","onload","width","height","ctx","getContext","drawImage","setTimeout","link","download","href","toDataURL","click","remove","Popup","proto","commentText","isShowCardPopup","closePopup","isShowCommentPopup","placeholder","required","setPrototypeOf","style","margin","effects","currentImage","Main","isShowInput","setShowInput","isShowError","setShowError","isShowUrlInput","setShowUrlInput","albumName","setAlbumName","photoUrl","setPhotoUrl","indexOf","some","currentAlbumName","rerender","setСurrentAlbum","handleCardDelete","ind","albumsListStart","slice","albumsListEnd","newAlbumsList","background","setСurrentAlbumName","defaultValue","htmlFor","url","test","plus","Footer","App","setBackground","imageCounter","setImageCounter","newValue","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f8283c3.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <h2 className=\"header__logo\">Gallery</h2>\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/paper.067aaf5e.svg\";","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport paper from '../images/paper.svg';\nimport '../blocks/card/card.css';\n\nfunction Card(props) {\n  function handleClick(event) {\n    props.setCurrentImage(event.target);\n    props.setCurrentPhoto(event.target.offsetParent);\n    props.showCardPopup(true);\n  }\n\n  function handleLikeClick(event) {\n    event.target.classList.toggle('card__like_type_active');\n  }\n  function handleDeleteClick() {\n    props.onCardDelete(props.num);\n  }\n\n  function openComments(event) {\n    props.setCurrentPhoto(event.target.offsetParent);\n    const card = props.currentPhoto;\n    if (card.prototype) {\n      const comment = card.prototype.comment;\n      props.setCommentText(comment);\n    }\n    props.showCommentPopup(true);\n  }\n\n  return (\n    <template id=\"card\" className=\"card\">\n      {props.isUserAlbum ? (\n        <button className=\"card__delete\" onClick={handleDeleteClick} type=\"reset\" aria-label=\"Удалить\"></button>\n      ) : (\n        ''\n      )}\n      <img\n        className=\"card__image\"\n        onClick={handleClick}\n        src={props.source}\n        alt={`${props.currentAlbum}-${props.num}`}\n      />\n      <div className=\"card__bottom\">\n        <h2 className=\"card__title\">{`${props.currentAlbum}-${props.num + 1}`}</h2>\n        <img alt=\"comment\" src={paper} className=\"card__add-comment\" onClick={openComments} />\n        <button className=\"card__like\" onClick={handleLikeClick} type=\"button\" aria-label=\"Мне нравится\"></button>\n      </div>\n    </template>\n  );\n}\n\nexport default Card;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\n\nfunction Filter(props) {\n  const [value, setValue] = React.useState(props.value);\n\n  React.useEffect(() => {\n    if (props.reset) {\n      setValue(props.value);\n    }\n  }, [props.reset, props.value]);\n\n  function changeValue(event) {\n    props.setReset(false);\n    const selector = event.target;\n    setValue(event.target.value);\n    props.changeFilter(selector);\n  }\n\n  return (\n    <label className=\"filter__label\">\n      {props.name}\n      <input\n        className=\"filter__range\"\n        onChange={changeValue}\n        name={props.name}\n        data-sizing={props.size}\n        type=\"range\"\n        min={props.min}\n        max={props.max}\n        value={value}\n      />\n      <output className=\"filter__output\" name=\"result\">\n        {props.value}\n      </output>\n    </label>\n  );\n}\n\nexport default Filter;\n","const albums = {\n  day: [],\n  evening: [],\n  night: [],\n  morning: [],\n};\n\nconst basicAlbums = [];\n\nObject.keys(albums).forEach((key) => {\n  basicAlbums.push(key);\n  for (let i = 1; i <= 20; i++) {\n    let number;\n    if (i < 10) {\n      number = '0' + i;\n    } else {\n      number = i;\n    }\n    albums[key].push(\n      `https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${key}/${number}.jpg`,\n    );\n  }\n});\n\nconst total = [];\n\nconst keys = Object.keys(albums);\n\nfor (let i = 0; i < keys.length; i++) {\n  total.push(...albums[keys[i]]);\n}\n\nconst FILTERS_DATA = [\n  { name: 'blur', size: 'px', value: '0', min: 0, max: 10 },\n  { name: 'invert', size: '%', value: '0', min: 0, max: 100 },\n  { name: 'sepia', size: '%', value: '0', min: 0, max: 100 },\n  { name: 'saturate', size: '%', value: '100', min: 0, max: 200 },\n  { name: 'hue-rotate', size: 'deg', value: '0', min: 0, max: 360 },\n  { name: 'brightness', size: '%', value: '100', min: 0, max: 200 },\n  { name: 'contrast', size: '%', value: '100', min: 0, max: 200 },\n  { name: 'grayscale', size: '%', value: '100', min: 0, max: 200 },\n  { name: 'opacity', size: '%', value: '100', min: 0, max: 200 },\n];\n\nconst urlRegex = /^(ftp|http|https):\\/\\/[^ \"]+$/;\n\nexport { albums, total, basicAlbums, FILTERS_DATA, urlRegex };\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport Filter from './Filter';\nimport { FILTERS_DATA } from '../utils/consts';\n\nfunction Filters(props) {\n  const [filter, setFilter] = React.useState({});\n  const [reset, setReset] = React.useState(false);\n\n  function getFilter(selector) {\n    const filters = JSON.parse(JSON.stringify(filter));\n    filters[selector.name] = `${selector.value}${selector.sizing}`;\n    setFilter(filters);\n    props.setImgFilter(filters);\n  }\n  function changeFilter(selector) {\n    selector.nextElementSibling.textContent = selector.value;\n    const filterData = {\n      name: selector.name,\n      value: selector.value,\n      sizing: selector.dataset.sizing,\n    };\n    getFilter(filterData);\n  }\n\n  function resetFilters() {\n    props.setImgFilter({});\n    setFilter({});\n    setReset(true);\n    const outputs = document.querySelectorAll('output');\n    for (let i = 0; i < outputs.length; i++) {\n      outputs[i].value = FILTERS_DATA[i].value;\n    }\n  }\n\n  function download() {\n    const filters = JSON.parse(JSON.stringify(filter));\n    let filtersString = Object.entries(filters)\n      .map((item) => {\n        return item.join('(');\n      })\n      .flat()\n      .join(') ');\n    if (filtersString !== '') {\n      filtersString = filtersString.concat(')');\n    }\n    const canvas = document.createElement('canvas');\n    const img = new Image();\n    img.setAttribute('crossOrigin', 'anonymous');\n    img.src = props.source;\n    img.onload = function () {\n      canvas.width = img.width;\n      canvas.height = img.height;\n      let ctx = canvas.getContext('2d');\n      ctx.filter = filtersString;\n      ctx.drawImage(img, 0, 0);\n    };\n    setTimeout(() => {\n      let link = document.createElement('a');\n      link.download = `download.png`;\n      link.href = canvas.toDataURL(`image/png`);\n      link.click();\n      link.remove();\n    }, 1000);\n  }\n\n  return (\n    <section className=\"filters\">\n      {FILTERS_DATA.map((data, index) => (\n        <Filter\n          key={index}\n          name={data.name}\n          size={data.size}\n          min={data.min}\n          max={data.max}\n          value={data.value}\n          reset={reset}\n          changeFilter={changeFilter}\n          setReset={setReset}\n        />\n      ))}\n      <button className=\"filters__btn\" onClick={resetFilters}>\n        Reset\n      </button>\n      <button className=\"filters__btn filters__btn_download\" onClick={download}>\n        Download\n      </button>\n    </section>\n  );\n}\n\nexport default Filters;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport Filter from 'react-css-filter';\nimport Filters from './Filters';\n\nfunction Popup(props) {\n  const [filter, setFilter] = React.useState('');\n\n  function handleChangeComment(event) {\n    props.setCommentText(event.target.value);\n  }\n\n  function proto() {\n    return props.commentText;\n  }\n\n  function saveComment() {\n    const card = props.currentPhoto;\n    Object.setPrototypeOf(card, proto);\n    card.prototype.comment = props.commentText;\n    props.showCommentPopup(false);\n    props.setCommentText('');\n  }\n\n  let comment;\n\n  if (props.currentPhoto.prototype) {\n    comment = props.currentPhoto.prototype.comment;\n  }\n\n  return (\n    <div className=\"popup\">\n      <div className={`popup__container ${props.isShowCardPopup && 'popup__image-container'}`}>\n        <button className=\"popup__close\" type=\"reset\" aria-label=\"Закрыть\" onClick={props.closePopup}></button>\n        {props.isShowCommentPopup && (\n          <>\n            <textarea\n              className=\"popup__text\"\n              onChange={handleChangeComment}\n              value={props.commentText}\n              placeholder=\"Enter your comment\"\n              required\n            ></textarea>\n            <button type=\"button\" className=\"popup__button\" onClick={saveComment}>\n              Save\n            </button>\n          </>\n        )}\n        {props.isShowCardPopup && (\n          <>\n            <figure style={{ margin: '1vmax' }}>\n              <Filter effects={filter}>\n                <img src={props.currentImage.src} className=\"popup__image\" alt={props.currentImage.alt} />\n              </Filter>\n              <figcaption className=\"popup__image-title\">\n                {props.currentImage.alt}\n                {comment && <span className=\"popup__text-error\">{comment}</span>}\n              </figcaption>\n            </figure>\n            <Filters source={props.currentImage.src} setImgFilter={setFilter} />\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Popup;\n","export default __webpack_public_path__ + \"static/media/plus.bed8c136.svg\";","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport Card from './Card';\nimport Popup from './Popup';\nimport plus from '../images/plus.svg';\nimport { albums, basicAlbums, urlRegex } from '../utils/consts';\n\nfunction Main(props) {\n  const [isShowInput, setShowInput] = React.useState(false);\n  const [isShowError, setShowError] = React.useState(false);\n  const [isShowUrlInput, setShowUrlInput] = React.useState(false);\n  const [isShowCommentPopup, showCommentPopup] = React.useState(false);\n  const [isShowCardPopup, showCardPopup] = React.useState(false);\n  const [albumName, setAlbumName] = React.useState('');\n  const [photoUrl, setPhotoUrl] = React.useState('');\n  const [currentPhoto, setCurrentPhoto] = React.useState({});\n  const [currentImage, setCurrentImage] = React.useState('');\n  const [commentText, setCommentText] = React.useState('');\n\n  const userAlbums = Object.keys(albums).filter(function (item) {\n    return basicAlbums.indexOf(item) === -1;\n  });\n\n  let isUserAlbum = userAlbums.some((item) => {\n    return item === props.currentAlbumName;\n  });\n\n  function handleAlbumSelect(event) {\n    const value = event.target.value;\n    if (value === 'add') {\n      setShowInput(true);\n    } else if (value === 'All') {\n      props.setСurrentAlbumName('All');\n      setShowInput(false);\n    } else {\n      props.setСurrentAlbumName(value);\n      setShowInput(false);\n    }\n  }\n\n  function handleChangeName(event) {\n    setAlbumName(event.target.value);\n  }\n\n  function handleChangeUrl(event) {\n    setPhotoUrl(event.target.value);\n  }\n\n  const urlValidation = (url) => {\n    return urlRegex.test(url);\n  };\n\n  function addAlbum() {\n    albums[albumName] = [];\n    props.setСurrentAlbumName(albumName);\n    setShowInput(false);\n  }\n\n  function showAddForm() {\n    setShowUrlInput(true);\n  }\n\n  function rerender() {\n    props.setСurrentAlbum(albums.total);\n    setTimeout(() => {\n      props.setСurrentAlbum(albums[props.currentAlbumName]);\n    }, 1);\n  }\n\n  function addPhoto() {\n    if (urlValidation(photoUrl)) {\n      setShowError(false);\n      albums[props.currentAlbumName].push(photoUrl);\n      setShowUrlInput(false);\n    } else {\n      setShowError(true);\n    }\n    rerender();\n  }\n\n  function handleCardDelete(ind) {\n    const albumsListStart = albums[props.currentAlbumName].slice(0, ind);\n    const albumsListEnd = albums[props.currentAlbumName].slice(ind + 1);\n    const newAlbumsList = [...albumsListStart, ...albumsListEnd];\n    albums[props.currentAlbumName] = newAlbumsList;\n    rerender();\n  }\n\n  function closePopup() {\n    showCommentPopup(false);\n    showCardPopup(false);\n    setCommentText('');\n    setCurrentPhoto({});\n    setCurrentImage('');\n  }\n\n  return (\n    <main className=\"content\">\n      <img src={props.background} alt=\"background\" className=\"content__background\" />\n      <div className=\"content__settings\">\n        <div className=\"content__choose\">\n          <h2 className=\"content__settings-title\">Choose album</h2>\n          <select className=\"content__settings-select\" onChange={handleAlbumSelect}>\n            <option defaultValue>All</option>\n            {Object.keys(albums).map((item, index) => (\n              <option key={index} value={`${item}`}>\n                {item}\n              </option>\n            ))}\n            <option value=\"add\">...add album...</option>\n          </select>\n        </div>\n        {isShowInput ? (\n          <form className=\"content__form\">\n            <input\n              type=\"text\"\n              id=\"name\"\n              onChange={handleChangeName}\n              className=\"content__input\"\n              placeholder=\"input name\"\n            ></input>\n            <label htmlFor=\"name\" className=\"content__label\">\n              input name\n            </label>\n            <button type=\"button\" onClick={addAlbum} className=\"content__submit\">\n              Save\n            </button>\n          </form>\n        ) : (\n          ''\n        )}\n      </div>\n      <div className=\"content__container\">\n        {props.currentAlbum &&\n          props.currentAlbum.map((source, index) => (\n            <Card\n              key={index}\n              num={index}\n              source={source}\n              currentAlbum={props.currentAlbumName}\n              isUserAlbum={isUserAlbum}\n              onCardDelete={handleCardDelete}\n              showCommentPopup={showCommentPopup}\n              currentPhoto={currentPhoto}\n              setCurrentPhoto={setCurrentPhoto}\n              setCommentText={setCommentText}\n              setCurrentImage={setCurrentImage}\n              showCardPopup={showCardPopup}\n            />\n          ))}\n        {isUserAlbum ? (\n          <div className=\"card\">\n            {isShowUrlInput ? (\n              <form>\n                <input\n                  type=\"url\"\n                  id=\"url\"\n                  onChange={handleChangeUrl}\n                  className=\"content__input\"\n                  placeholder=\"input image url\"\n                ></input>\n                <label htmlFor=\"url\" className=\"content__label content__label_url\">\n                  input image url\n                </label>\n                <button type=\"button\" className=\"content__add-button\" onClick={addPhoto}>\n                  Add\n                </button>\n                {isShowError && <span className=\"content__add-error\">Bad url request. Try input any url</span>}\n              </form>\n            ) : (\n              <img src={plus} alt=\"add\" onClick={showAddForm}></img>\n            )}\n          </div>\n        ) : (\n          ''\n        )}\n      </div>\n      {isShowCommentPopup && (\n        <Popup\n          isShowCommentPopup={isShowCommentPopup}\n          currentPhoto={currentPhoto}\n          commentText={commentText}\n          closePopup={closePopup}\n          showCommentPopup={showCommentPopup}\n          setCommentText={setCommentText}\n        />\n      )}\n      {isShowCardPopup && (\n        <Popup\n          isShowCardPopup={isShowCardPopup}\n          currentPhoto={currentPhoto}\n          currentImage={currentImage}\n          closePopup={closePopup}\n        />\n      )}\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&copy; 2021 Алексей Акулич</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport { total, albums } from '../utils/consts';\nimport '../index.css';\n\nfunction App() {\n  const [background, setBackground] = React.useState('');\n  const [imageCounter, setImageCounter] = React.useState(0);\n  const [currentAlbum, setСurrentAlbum] = React.useState(total);\n  const [currentAlbumName, setСurrentAlbumName] = React.useState('All');\n\n  React.useEffect(() => {\n    if (imageCounter === total.length) {\n      setImageCounter(0);\n    }\n    setBackground(total[imageCounter]);\n  }, [imageCounter]);\n\n  const newValue = imageCounter + 1;\n\n  setTimeout(() => {\n    setImageCounter(newValue);\n  }, 150000);\n\n  React.useEffect(() => {\n    if (currentAlbumName === 'All') {\n      setСurrentAlbum(total);\n    } else {\n      setСurrentAlbum(albums[currentAlbumName]);\n    }\n  }, [currentAlbumName]);\n\n  //*DOM\n  return (\n    <div className=\"root\">\n      <div className=\"page\">\n        <Header />\n        <Main\n          currentAlbum={currentAlbum}\n          currentAlbumName={currentAlbumName}\n          background={background}\n          setСurrentAlbum={setСurrentAlbum}\n          setСurrentAlbumName={setСurrentAlbumName}\n        />\n        <Footer />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}